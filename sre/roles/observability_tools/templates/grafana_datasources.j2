- name: Prometheus
  uid: prometheus
  type: prometheus
  access: proxy
  url: http://{{ prometheus_service_name }}.{{ prometheus_namespace_project_name }}.svc.cluster.local:80
  user: ""
  database: ""
  basicAuth: false
  isDefault: false
  jsonData:
    httpMethod: POST
    timeInterval: 30s
    tlsAuth: false
    tlsSkipVerify: true
- name: Alertmanager
  type: alertmanager
  uid: alertmanager
  url: http://prometheus-alertmanager.{{ prometheus_namespace_project_name }}.svc.cluster.local:9093
  access: proxy
  jsonData:
    handleGrafanaManagedAlerts: false
    implementation: prometheus
{% if tools | intersect(['loki']) | length == 1 %}
- name: Loki
  uid: loki
  type: loki
  access: proxy
  url: http://{{ loki_installation_name }}-gateway.{{ loki_namespace_project_name }}.svc.cluster.local
  user: ""
  database: ""
  basicAuth: false
  isDefault: false
  jsonData:
    tlsAuth: false
    tlsSkipVerify: false
    manageAlerts: false
{% endif %}
{% if tools | intersect(['jaeger']) | length == 1 %}
- name: Jaeger
  uid: jaeger
  type: jaeger
  access: proxy
  url: http://{{ jaeger_installation_name }}-query.{{ jaeger_namespace_project_name }}.svc.cluster.local:80
  user: ""
  database: ""
  basicAuth: false
  isDefault: false
  jsonData:
    tracesToMetrics:
      datasourceUid: prometheus
      queries: []
      tags: []
{% endif %}
{% if tools | intersect(['opensearch']) | length == 1 %}
- name: Opensearch
  uid: opensearch
  type: grafana-opensearch-datasource
  access: proxy
  url: http://opensearch-cluster-master.{{ opensearch_namespace_project_name }}.svc.cluster.local:9200
  basicAuth: false
  isDefault: false
  jsonData:
    database: otel
    flavor: opensearch
    logLevelField: severity
    logMessageField: body
    pplEnabled: true
    timeField: observedTimestamp
    tlsAuth: false
    tlsSkipVerify: true
    version: "{{ opensearch_version_number }}"
{% endif %}
